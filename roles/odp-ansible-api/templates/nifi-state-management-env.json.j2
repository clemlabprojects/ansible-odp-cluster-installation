{
	"Clusters": {
		"desired_configs": {
			"type": "nifi-state-management-env",
			"tag": "{{ range(00000000, 99999999) | random }}",
			"properties": { {% raw %}
        "content" : "\n<!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the \"License\"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n      http://www.apache.org/licenses/LICENSE-2.0\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n-->\n\n<!--\n  This file provides a mechanism for defining and configuring the State Providers\n  that should be used for storing state locally and across a NiFi cluster. In order\n  to use a specific provider, it must be configured here and its identifier\n  must be specified in the nifi.properties file.\n-->\n<stateManagement>\n    <!--\n        State Provider that stores state locally in a configurable directory. This Provider requires the following properties:\n\n        Directory - the directory to store components' state in. If the directory being used is a sub-directory of the NiFi installation, it\n                    is important that the directory be copied over to the new version when upgrading NiFi.\n     -->\n    <local-provider>\n        <id>local-provider</id>\n        <class>org.apache.nifi.controller.state.providers.local.WriteAheadLocalStateProvider</class>\n        <property name=\"Directory\">{{nifi_state_dir}}</property>\n    </local-provider>\n\n    <!--\n        State Provider that is used to store state in ZooKeeper. This Provider requires the following properties:\n\n        Root Node - the root node in ZooKeeper where state should be stored. The default is '/nifi', but it is advisable to change this to a different value if not using\n                   the embedded ZooKeeper server and if multiple NiFi instances may all be using the same ZooKeeper Server.\n\n        Connect String - A comma-separated list of host:port pairs to connect to ZooKeeper. For example, myhost.mydomain:2181,host2.mydomain:5555,host3:6666\n\n        Session Timeout - Specifies how long this instance of NiFi is allowed to be disconnected from ZooKeeper before creating a new ZooKeeper Session. Default value is \"30 seconds\"\n\n        Access Control - Specifies which Access Controls will be applied to the ZooKeeper ZNodes that are created by this State Provider. This value must be set to one of:\n                            - Open  : ZNodes will be open to any ZooKeeper client.\n                            - CreatorOnly  : ZNodes will be accessible only by the creator. The creator will have full access to create children, read, write, delete, and administer the ZNodes.\n                                             This option is available only if access to ZooKeeper is secured via Kerberos or if a Username and Password are set.\n    -->\n\n\n    <cluster-provider>\n        <id>zk-provider</id>\n        <class>org.apache.nifi.controller.state.providers.zookeeper.ZooKeeperStateProvider</class>\n        <property name=\"Connect String\">{{zookeeper_quorum}}</property>\n        <property name=\"Root Node\">{{nifi_znode}}</property>\n        <property name=\"Session Timeout\">30 seconds</property>\n        <property name=\"Access Control\">Open</property>\n    </cluster-provider>\n</stateManagement>"
      } {% endraw %}
    }
  }
}
