{
	"Clusters": {
		"desired_configs": {
			"type": "nifi-registry-properties",
			"tag": "{{ range(00000000, 99999999) | random }}",
			"properties": {
        "nifi.registry.db.directory" : "",
        "nifi.registry.db.url.append" : "",
				"nifi.registry.db.url": "jdbc:h2:./database/nifi-registry-primary;AUTOCOMMIT=OFF;DB_CLOSE_ON_EXIT=FALSE;LOCK_MODE=3;LOCK_TIMEOUT=25000;WRITE_DELAY=0;AUTO_SERVER=FALSE",
				"nifi.registry.db.driver.class": "org.h2.Driver",
				"nifi.registry.db.driver.directory": "",
				"nifi.registry.db.username": "nifireg",
				"nifi.registry.db.password": "nifireg",
				"nifi.registry.db.maxConnections": "5",
				"nifi.registry.db.sql.debug": "false",
        "nifi.registry.extension.dir.1" : "",
        "nifi.registry.extension.dir.2" : "",
        "nifi.registry.kerberos.krb5.file" : "",
				"nifi.registry.extension.dir.ranger": "./ext/ranger/lib",
        "nifi.registry.kerberos.spnego.authentication.expiration" : "12 hours",
        "nifi.registry.kerberos.spnego.keytab.location" : "",
        "nifi.registry.kerberos.spnego.principal" : "",{% raw %}
        "nifi.registry.providers.configuration.file" : "{{nifi_registry_config_dir}}/providers.xml",
        "nifi.registry.security.authorizer" : "{{nifi_registry_authorizer}}",
        "nifi.registry.security.authorizers.configuration.file" : "{{nifi_registry_config_dir}}/authorizers.xml",
        "nifi.registry.security.identity.mapping.pattern.dn" : "",
        "nifi.registry.security.identity.mapping.pattern.kerb" : "",
        "nifi.registry.security.identity.mapping.value.dn" : "",
        "nifi.registry.security.identity.mapping.value.kerb" : "",
        "nifi.registry.security.identity.provider" : "",
        "nifi.registry.security.identity.providers.configuration.file" : "{{nifi_registry_config_dir}}/identity-providers.xml",{% endraw %}
				{% if cluster_services.NIFI_REGISTRY is defined and cluster_services.NIFI_REGISTRY.SSL is defined and cluster_services.NIFI_REGISTRY.SSL %}
        "nifi.registry.security.keyPasswd" : "{{ ssl_keystore_password }}",
        "nifi.registry.security.keystore" : "{{ ssl_keystore_path }}",
        "nifi.registry.security.keystorePasswd" : "{{ ssl_keystore_password }}",
        "nifi.registry.security.keystoreType" : "JKS",
        "nifi.registry.security.truststore" : "{{ ssl_truststore_path }}",
        "nifi.registry.security.truststorePasswd" : "{{ ssl_truststore_password }}",
        "nifi.registry.security.truststoreType" : "JKS",
        "nifi.registry.web.https.port" : "61443",
        "nifi.registry.web.http.port" : "",
        "nifi.registry.web.https.host" : "0.0.0.0",
        "nifi.registry.security.needClientAuth" : "false",{% raw %}
        "nifi.registry.web.http.host" : "{{nifi_registry_nonssl_host}}",{% endraw %}
				{% else %}
        {% raw %}
				"nifi.registry.security.keyPasswd" : "{{nifi_registry_keyPasswd}}",
        "nifi.registry.security.keystore" : "{{nifi_registry_keystore}}",
        "nifi.registry.security.keystorePasswd" : "{{nifi_registry_keystorePasswd}}",
        "nifi.registry.security.keystoreType" : "{{nifi_registry_keystoreType}}",
        "nifi.registry.security.truststore" : "{{nifi_registry_truststore}}",
        "nifi.registry.security.truststorePasswd" : "{{nifi_registry_truststorePasswd}}",
        "nifi.registry.security.truststoreType" : "{{nifi_registry_truststoreType}}",
        "nifi.registry.web.http.host" : "{{nifi_registry_nonssl_host}}",
        "nifi.registry.web.https.host" : "{{nifi_registry_ssl_host}}",
        "nifi.registry.security.needClientAuth" : "{{nifi_registry_needClientAuth}}",
				{% endraw %}
				{% endif %}{% raw %}
        "nifi.registry.web.jetty.threads" : "200",
        "nifi.registry.web.jetty.working.directory" : "{{nifi_registry_internal_dir}}/work/jetty",
        "nifi.registry.web.war.directory" : "{{nifi_registry_install_dir}}/lib"
      } {% endraw %}
    }
  }
}
