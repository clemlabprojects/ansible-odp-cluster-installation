{
	"Clusters": {
		"desired_configs": {
			"type": "kafka_jaas_conf",
			"tag": "{{ range(00000000, 99999999) | random }}",
			"properties": { {% raw %}
        "content" : "\n/**\n* Example of SASL/PLAIN Configuration\n*\n* KafkaServer {\n*   org.apache.kafka.common.security.plain.PlainLoginModule required\n*   username=\"admin\"\n*   password=\"admin-secret\"\n*   user_admin=\"admin-secret\"\n*   user_alice=\"alice-secret\";\n*   };\n*\n* Example of SASL/SCRAM\n*\n* KafkaServer {\n*   org.apache.kafka.common.security.scram.ScramLoginModule required\n*   username=\"admin\"\n*   password=\"admin-secret\"\n*   };\n*\n* Example of Enabling multiple SASL mechanisms in a broker:\n*\n*   KafkaServer {\n*\n*    com.sun.security.auth.module.Krb5LoginModule required\n*    useKeyTab=true\n*    storeKey=true\n*    keyTab=\"/etc/security/keytabs/kafka_server.keytab\"\n*    principal=\"kafka/kafka1.hostname.com@EXAMPLE.COM\";\n*\n*    org.apache.kafka.common.security.plain.PlainLoginModule required\n*    username=\"admin\"\n*    password=\"admin-secret\"\n*    user_admin=\"admin-secret\"\n*    user_alice=\"alice-secret\";\n*\n*    org.apache.kafka.common.security.scram.ScramLoginModule required\n*    username=\"scram-admin\"\n*    password=\"scram-admin-secret\";\n*    };\n*\n**/\n\n{% if kerberos_security_enabled %}\n\n    KafkaServer {\n    com.sun.security.auth.module.Krb5LoginModule required\n    useKeyTab=true\n    keyTab=\"{{kafka_keytab_path}}\"\n    storeKey=true\n    useTicketCache=false\n    serviceName=\"{{kafka_bare_jaas_principal}}\"\n    principal=\"{{kafka_jaas_principal}}\";\n    };\n    KafkaClient {\n    com.sun.security.auth.module.Krb5LoginModule required\n    useTicketCache=true\n    renewTicket=true\n    serviceName=\"{{kafka_bare_jaas_principal}}\";\n    };\n    Client {\n    com.sun.security.auth.module.Krb5LoginModule required\n    useKeyTab=true\n    keyTab=\"{{kafka_keytab_path}}\"\n    storeKey=true\n    useTicketCache=false\n    serviceName=\"zookeeper\"\n    principal=\"{{kafka_jaas_principal}}\";\n    };\n    com.sun.security.jgss.krb5.initiate {\n    com.sun.security.auth.module.Krb5LoginModule required\n    renewTGT=false\n    doNotPrompt=true\n    useKeyTab=true\n    keyTab=\"{{kafka_keytab_path}}\"\n    storeKey=true\n    useTicketCache=false\n    serviceName=\"{{kafka_bare_jaas_principal}}\"\n    principal=\"{{kafka_jaas_principal}}\";\n    };\n\n{% endif %}"
      }{% endraw %}
    }
  }
}
